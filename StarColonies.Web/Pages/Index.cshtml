@page
@model IndexModel

@{
    ViewData["Title"] = "Bienvenue sur Novaterra";
}

<!-- Hero Section -->
<section class="text-center py-5">
    <h2 class="display-3 fw-bold mb-4 font-barlow">Bienvenue sur Novaterra</h2>
    <p class="fs-5 mx-auto mb-5" style="max-width: 700px;">
        Explorez les confins de l'espace, établissez votre colonie et affrontez des dangers inconnus dans ce jeu de stratégie et d'aventure futuriste.
    </p>
    @if (!User.Identity.IsAuthenticated)
    {
        <div class="btn-glow-wrapper position-relative d-inline-block">
            <a asp-page="/Login" class="btn btn-special btn-lg fw-bold fs-4 px-4 py-2">
                Commencer l'aventure
            </a>
        </div>
    }
</section>

<!-- Hall of Fame Section -->
<section class="py-5">
    <div class="hall-of-fame shadow rounded overflow-hidden mx-auto" style="max-width: 800px;">
        <h3 class="py-3 mb-0 text-center fw-bold font-barlow">HALL OF FAME</h3>

        <div class="table-responsive">
            <table class="table table-custom mb-0">
                <thead>
                <tr>
                    <th class="text-center" scope="col">#</th>
                    <th scope="col">ÉQUIPE</th>
                    <th scope="col">MISSIONS</th>
                    <th scope="col">SCORE</th>
                </tr>
                </thead>
                <tbody>
                @for (int i = 0; i < Model.TopTeams.Count; i++)
                {
                    var team = Model.TopTeams[i];
                    <tr>
                        <td class="text-center">@(i + 1)</td>
                        <td class="team-banner-cell">
                            <div class="team-banner-container">
                                @if (!string.IsNullOrEmpty(team.Logo))
                                {
                                <div class="team-banner" style="background-image: url('@Url.Content("~/uploads/banieres/" + team.Baniere)');"></div>                                }
                                <div class="team-info">
                                    @if (!string.IsNullOrEmpty(team.Logo))
                                    {
                                        <img src="~/uploads/logos/@team.Logo" alt="@team.Name Logo" class="me-2 rounded" style="width: 2.5rem; height: 2.5rem;" />
                                    }
                                    <span class="team-name">@team.Name</span>
                                </div>
                            </div>
                        </td>
                        <td>@team.MissionsCompleted</td>
                        <td>@team.Score</td>
                    </tr>
                }
                @if (!Model.TopTeams.Any())
                {
                    <tr>
                        <td colspan="4" class="text-center py-4">Aucune équipe n'a encore réalisé de mission.</td>
                    </tr>
                }
                </tbody>
            </table>
        </div>
    </div>
</section>

@section Styles
{
    <style>
        .team-banner-cell {
            position: relative;
            overflow: hidden;
        }

        .team-banner-container {
            position: relative;
            display: flex;
            align-items: center;
            z-index: 1;
        }

        .team-banner {
            position: absolute;
            left: -0.75rem;
            top: -0.75rem;
            width: 100%;
            height: calc(100% + 1.5rem);
            background-size: cover;
            background-position: center;
            opacity: 0.7;
            z-index: -1;
            mask-image: linear-gradient(to right, rgba(0,0,0,0.8) 50%, rgba(0,0,0,0));
        }

        .team-banner::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 0;
        }

        .team-info {
            display: flex;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .team-name {
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
        }

        .table-custom {
            background-color: #1a1a2e;
            color: #e6e6e6;
        }
    </style>
}
